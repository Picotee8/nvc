(function(e){function t(t){for(var n,l,c=t[0],i=t[1],p=t[2],u=0,d=[];u<c.length;u++)l=c[u],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&d.push(r[l][0]),r[l]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);s&&s(t);while(d.length)d.shift()();return a.push.apply(a,p||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,c=1;c<o.length;c++){var i=o[c];0!==r[i]&&(n=!1)}n&&(a.splice(t--,1),e=l(l.s=o[0]))}return e}var n={},r={app:0},a=[];function l(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.m=e,l.c=n,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(o,n,function(t){return e[t]}.bind(null,n));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var s=i;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},1:function(e,t){},"406d":function(e,t){e.exports={ips:[{host:"183.236.232.160",port:8080},{host:"210.5.10.87",port:53281},{host:"112.14.47.6",port:52024},{host:"111.2.123.217",port:8088},{host:"219.134.245.158",port:8088},{host:"112.87.36.200",port:8088},{host:"121.13.252.62",port:41564},{host:"182.34.17.104",port:9999},{host:"182.139.111.149",port:9e3},{host:"27.42.168.46",port:55481}],userAgents:["Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)","Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_8; en-us) AppleWebKit/534.50 (KHTML, like Gecko) Version/5.1 Safari/534.50","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_0) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36 Edg/108.0.1462.54","Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)"]}},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("7a23");function r(e,t,o,r,a,l){const c=Object(n["resolveComponent"])("Main");return Object(n["openBlock"])(),Object(n["createBlock"])(c)}function a(e,t,o,r,a,l){const c=Object(n["resolveComponent"])("el-input"),i=Object(n["resolveComponent"])("el-button"),p=Object(n["resolveComponent"])("el-col"),s=Object(n["resolveComponent"])("el-row");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(p,{span:24},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,{modelValue:a.bid,"onUpdate:modelValue":t[0]||(t[0]=e=>a.bid=e),placeholder:"Please input book id"},null,8,["modelValue"]),Object(n["createVNode"])(i,{type:"primary",onClick:l.catchBook},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("Primary")]),_:1},8,["onClick"])]),_:1})]),_:1}),Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(p,{span:24},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,{type:"textarea",modelValue:a.book,"onUpdate:modelValue":t[1]||(t[1]=e=>a.book=e)},null,8,["modelValue"])]),_:1})]),_:1})],64)}o("5b81");var l=o("3ef4"),c=o("cee4"),i=o("1157"),p=o.n(i),s=o("02cc"),u=o.n(s),d=o("406d"),h=o.n(d),b=o("78a3"),f=o.n(b),m={name:"Main",data(){return{bid:"",book:""}},methods:{catchBook(){let e=this.bid;""!=e?this.catchFromXbqg(e):l["a"].error("Please input book id!")},async catchFromXbqg(e){let t="/xbqg";t=f.a[t];let o=t+"/book/"+e+"/";try{let r=await this.axiosGet(o),a=r("body div.container.border3-2.mt8.mb20 > div.info-chapters.flex.flex-wrap > a:nth-child(1)");if(!a.length)return void l["a"].error("Start Url Not Found!");let c=a.attr("href"),i="";while(c){let e=await this.axiosGet(t+c);c=null,e.length||(this.book+="Error: Page Not Found! ["+t+c+"]\n");let r=e("#next_url");if(r.length){let t=r.attr("href");t.endsWith(".html")&&(c=t);let a=t.replace(o,"").replace(".html","");if(-1!=a.indexOf("_")){let t=e("#ss-reader-main > div.reader-main h1");t&&(this.book+=t.text()+"\n",i+="\n"+t.text()+"\n  ")}let l=e("#article");if(l){var n=l.text();n=n.replace(/\n\s*?\n/g,"\n"),n=n.replace(/(\n)\s+?(\S)/g,"$1  $2"),n=n.replaceAll("(本章未完,请翻页)",""),n=n.replace(/第(.*?)页/g,""),i+=n}}}this.downloadFile(e+".txt",i)}catch(r){l["a"].error("Error!"),console.log(r)}},findDom(e,t){let o=e.find(t);return o&&o.length>0?p()(o[0]):null},async axiosGet(e){return new Promise((t,o)=>{c["a"].get(e,{proxy:h.a.ips[Math.floor(10*Math.random())],headers:{"User-Agent":h.a.userAgents[Math.floor(5*Math.random())]}}).then((function(e){let o=e.data;if(o){var n=u.a.load(o);t(n)}})).catch((function(e){o(e)}))})},downloadFile(e,t){var o=document.createElement("a"),n=new Blob([t]),r=document.createEvent("MouseEvents");r.initEvent("click",!1,!1),o.download=e,o.href=URL.createObjectURL(n),o.dispatchEvent(r)}}},O=o("6b0d"),v=o.n(O);const j=v()(m,[["render",a]]);var w=j,x={name:"App",components:{Main:w}};const g=v()(x,[["render",r]]);var k=g,y=o("c3a1");o("7437");const M=Object(n["createApp"])(k);M.use(y["a"]),M.mount("#app")},"78a3":function(e,t){e.exports={"/xbqg":"https://www.hafuktxt.com"}}});
//# sourceMappingURL=app.e3ac4c91.js.map